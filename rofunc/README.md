# Robotics Functions (RoFunc)

## Available functions

| Classes     | Types | Functions         | Description                       |
|-------------|-------|-------------------|-----------------------------------|
| **Devices** | Xsens | `xsens.process`   | Decoding the .mvnx file           |
|             |       | `xsens.visualize` | Show or save gif about the motion |

## Devices

### Xsens

#### Convert mvnx file to npys

`get_skeleton(mvnx_path, output_dir=None)`

```python
from rofunc.xsens.process import get_skeleton

mvnx_file = '/home/ubuntu/Data/06_24/Xsens/dough_01.mvnx'
get_skeleton(mvnx_file) 
```

Then you will get a folder with multiple .npy files, each one refers to one segment.

> We also provide a batch form for converting mvnx files together.

```python
from rofunc.xsens.process import get_skeleton_batch

mvnx_dir = '../xsens_data'
get_skeleton_batch(mvnx_dir)
```

#### Visualize the motion data

After obtains data of each segment, we can get a whole-body visualization
by `plot_skeleton(skeleton_data_path: str, save_gif=False)`

```python
from rofunc.xsens.visualize import plot_skeleton

# dough_01 must be a folder with multiple .npy files about the skeleton which can be generated by `get_skeleton`
skeleton_data_path = './xsens_data/dough_01'
plot_skeleton(skeleton_data_path)
```

> We also provide a batch form for saving gifs of several skeleton data.

```python
from rofunc.xsens.visualize import plot_skeleton_batch

# There must contain a folder with multiple .npy files about the skeleton which can be generated by `get_skeleton`
skeleton_dir = './xsens_data/'  
plot_skeleton_batch(skeleton_dir)
```
